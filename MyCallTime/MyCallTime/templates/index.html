{% extends "layout.html" %}

{% block content %}

<div class="jumbotron">
    <h1>
        <span class="title">My Call Sheets</span>
        
    </h1>

    <!--<form>
        <div class="form-group">
            <input type="search" class="form-control" placeholder="search"/>
        </div>
    </form>-->
    <button type="button" id="createSheet">create sheet</button><button class="create" type="button" style="display:none" id="cancelCreate">cancel</button>
    <div class="table-responsive">
        <table class="table table-striped table-responsive table-hover">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Shoot</th>
                    <th>Location</th>
                    <th>Client</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
              
                {% if shoots|length == 0 %}
                <tr>
                    <td colspan="5">
                        <div class="cancel">
                            you have no sheets. Create a new one with the button above.
                        </div>
                        <button class="create" type="button" style="display:none" id="cancelCreate" onclick="window.location.href='/newShoot'">new sheet</button>
                    </td>
                    
                </tr>
                {% endif %}
                {% for shoot in shoots%}
                    <!--{% set edit_link = "window.document.location='/shoots/"+shoot.ID|string+"';" %}-->
                    <!--<tr onclick={{edit_link}}>-->
                    <tr>
                        <td>{{shoot.date}}</td>
                        {% set edit_link = "window.location.href='/copy/"+shoot.ID|string+"'" %}
                        <td><button type="button" class="create" style="display:none" onclick={{edit_link}}>copy</button><a href="{{url_for('viewShoot', shoot_id=shoot.ID)}}">{{shoot.name}}</a></td>
                        <td>{{shoot.location}}</td>
                        <td>{{shoot.client}}</td>
                        <td><a href="{{url_for('deleteShoot', shoot_id=shoot.ID)}}"><span class="glyphicon glyphicon-minus-sign" aria-hidden="true" style="font-size:15px;color:red"></span></a></td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
</div>


<script type="text/javascript" language="javascript" src="/static/scripts/createSheet.js"></script>
{% endblock %}
